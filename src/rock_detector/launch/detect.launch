<launch>
    <!--
      Launch file for the Rock Detector node.
      It loads parameters from a YAML file and sets the model path.
    -->

    <!-- 1. Load parameters from the YAML file into the node's private namespace -->
    <rosparam command="load" file="$(find rock_detector)/config/detection_params.yaml" ns="rock_detector_node"/>

    <!-- 2. Start the rock detector Python node -->
    <node name="rock_detector_node"
          pkg="rock_detector"
          type="rock_detector_node.py"
          output="screen">

        <!-- 3. Find the model file path and set it as a PRIVATE parameter for this node -->
        <param name="model_path" value="$(find rock_detector)/model/best.pt" />
    </node>

</launch>